<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link href="/safari-pinned-tab.svg" rel="mask-icon" color="#3BA3E8"><link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name="viewport"><meta content="#2d89ef" name="msapplication-TileColor"><meta content="#8a73ff" name="theme-color"><link href="/manifest.json" rel="manifest"><title>Geordie Powers</title><link href="/static/css/main.7e2b7afe.chunk.css" rel="stylesheet"><link href="https://giant.gfycat.com" rel="preconnect"><link href="/static/js/16.685cfdbc.chunk.js" rel="preload" as="script"><link href="/static/js/main.c79bbdec.chunk.js" rel="preload" as="script"><link href="/static/js/9.ebbe1e98.chunk.js" rel="preload" as="script"><link href="/static/js/5.4600a1b2.chunk.js" rel="preload" as="script"><link href="/static/js/3.c7af5567.chunk.js" rel="preload" as="script"></head><body><div id="root"><div class="Layout Layout--standard fastFade"><nav class="u-flexH u-spaceBetween u-centerMain"><div><a href="/"><svg class="LogoSvg" enable-background="new 0 0 200 200" height="200px" id="Layer_1" version="1.1" viewBox="0 0 200 200" width="200px" x="0px" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px"><linearGradient gradientUnits="userSpaceOnUse" id="SVGID_1_" x1="148.8818" x2="51.1174" y1="15.3335" y2="184.6664"><stop offset="0" style="stop-color:#3ba3e8"></stop><stop offset="1" style="stop-color:#8a73ff"></stop></linearGradient><path d="M148.647,23.135c-28.3,0-51.244,22.944-51.244,51.243v9.72v31.804v9.72 c0,25.432-20.618,46.05-46.05,46.05c-25.432,0-46.051-20.618-46.051-46.05c0-25.432,20.619-46.051,46.051-46.051h28.576v-5.192 H51.353c-28.301,0-51.243,22.942-51.243,51.243s22.942,51.244,51.243,51.244s51.244-22.943,51.244-51.244v-9.72V84.098v-9.72 c0-25.432,20.617-46.05,46.051-46.05c25.433,0,46.05,20.618,46.05,46.05s-20.617,46.051-46.05,46.051h-28.576v5.192h28.576 c28.301,0,51.243-22.942,51.243-51.243C199.891,46.079,176.948,23.135,148.647,23.135z" fill="url(#SVGID_1_)"></path><rect fill="url(#SVGID_1_)" height="5.192" width="17.475" x="62.455" y="120.429"></rect></svg></a></div><div><a href="/projects">Projects</a><a href="/blog">Blog</a><a href="/contact">Contact</a></div></nav><main><div><h1 id="building-swift-shop---week-1-nov-16---23-2019">Building Swift Shop - Week 1 (Nov 16 ‚àí 23, 2019)</h1><h4 id="nov-24-2019">Nov 24, 2019</h4><p>This is the beginning of a series of (hopefully) weekly blog posts about my first experiences using SwiftUI to build an iOS app.</p><h1 id="about-the-app">About the app</h1><p>The app being built in this series of posts is a shopping list app called <a href="https://github.com/GeordieP/swiftshop">Swift Shop</a> (pun somewhat intended). It‚Äôs my first real mobile app, and I plan on publishing it to the iOS App Store when it‚Äôs complete.</p><p>The initial version of this was a small <a href="https://github.com/GeordieP/shopping-proto">web-based prototype</a> built with React in December of 2018. It was mainly a playground in which to explore the recently released <a href="https://reactjs.org/docs/hooks-intro.html">React Hooks</a> pattern. The project was completed rather quickly, and I had some desire to turn it into a real thing, as it captures the workflow I‚Äôd prefer when setting up shopping lists.</p><p>The next version was intended to be written using React Native, but this never came to be, as the support for Hooks wouldn‚Äôt be stable for many months to come.</p><p>Some time later, <a href="https://ionicframework.com/blog/announcing-ionic-react/">Ionic React</a> was officially announced, and I ended up building a good amount of the app in this toolkit (View this project <a href="https://github.com/GeordieP/shopping-list">here</a>), before deciding that Ionic React was not the solution I was looking for. I instead set my sights on learning SwiftUI, as it seemed to be promising (and slightly React-like!), and producing the app in a platform-native framework would hopefully ensure that everything stays fast and correctly adheres to the iOS human interface guidelines.</p><h1 id="initial-concerns">Initial Concerns</h1><p>Going into SwiftUI with zero prior knowledge of how iOS apps are built or packaged, how data is managed, and how the framework interacts with state left me with several unknowns up-front:</p><h2 id="state-management---how-do-developers-usually-manage-state-in-swiftui-apps"><strong>State Management</strong> - How do developers usually manage state in SwiftUI apps?</h2><p>During a quick initial search, there were very few resources talking about this directly. I decided to see if anybody had created an ‚ÄúAwesome SwiftUI‚Äù page, and indeed, <a href="https://github.com/chinsyo/awesome-swiftui">they had</a>. It was in this list that I found <a href="https://github.com/StevenLambion/SwiftDux">SwiftDux</a>, which felt like a comfortable choice, given my Redux experience with React.</p><h2 id="persistence---how-do-we-interact-with-device-storage-using-swift-and-how-does-this-integrate-with-swiftui"><strong>Persistence</strong> - How do we interact with device storage using Swift, and how does this integrate with SwiftUI?</h2><p>Not much searching required on this one, as SwiftDux ships with a <a href="https://stevenlambion.github.io/SwiftDux/persisting-state.html">simple state persistence middleware</a> that seemed good enough to start with.</p><h2 id="list-filtering---how-do-we-manage-our-list-filtering-logic"><strong>List Filtering</strong> - How do we manage our list filtering logic?</h2><p>Previous prototypes of the app relied heavily on a custom React Hook for filtering the lists of items in a very composable manner that was a joy to use (Alright, I may be biased üòÖ). SwiftUI obviously doesn‚Äôt have Hooks, so what will the approach be to replicate this? How close can we get to the easy-to-use API of the Hook?</p><h1 id="starting-out">Starting Out</h1><p>Writing the initial views and wiring up some basic state management with SwiftDux was a breeze. While there were occasional cases where Xcode‚Äôs completion would provide less-than-useful options, or stubborn type errors would persist until an editor restart, the experience was pleasant. It is however apparent that SwiftUI is new and a bit rough around the edges (e.g. <a href="https://stackoverflow.com/questions/58724301/cannot-convert-value-of-type-bindingint-to-expected-argument-type-binding">Errors originating in a child View‚Äôs code being presented in the parent View</a>), but these problems will no doubt see improvement over time.</p><p>The real beauty of SwiftUI is its contextual awareness. Unlike the web where most styling is done by hand, iOS has a very consistent set of controls for most of the scenarios one would encounter. The framework has been thoughtfully designed to give developers access to these controls with minimal effort; for example, adding the common ‚Äúslide to delete‚Äù button to each item in a List view is as easy as calling a method on the <code>ForEach</code> block itself:</p><pre class="language-diff"><code class="language-diff">  List {
    ForEach(props.products) { p in
      Text(p.name)
<span class="token inserted">+   }.onDelete(perform: deleteProduct)</span>
  }

  // ...
  // Defined elsewhere in the View struct:

<span class="token inserted">+ func deleteProduct(at: IndexSet) {</span>
<span class="token inserted">+   // Call a SwiftDux action</span>
<span class="token inserted">+   self.dispatch(ProductActions.deleteProduct( /* ... */ )</span>
<span class="token inserted">+ }</span>
</code></pre><h2 id="attempting-persistence">Attempting Persistence</h2><p>After successfully getting some basic state management and Views written, I tried out the SwiftDux bundled JSON persistence middleware. Unfortunately, it didn‚Äôt work. Something in the SwiftDux <code>OrderedState</code> type didn‚Äôt like being serialized, and the app would throw a runtime exception when calling <code>JSONEncoder.encode()</code> on the state object.</p><pre><code>  JSONEncoder.encode() throws Thread 1: EXC_BAD_ACCESS (code=2, address=0x105438309) error
</code></pre><p>Trying to diagnose the problem, I made a new SwiftUI project to try and reproduce the error in a more isolated environment, and was able to do so:</p><pre class="language-swift"><code class="language-swift">  <span class="token comment">// ...</span>

  <span class="token keyword">struct</span> <span class="token builtin">Item</span><span class="token punctuation">:</span> <span class="token builtin">IdentifiableState</span><span class="token punctuation">,</span> <span class="token builtin">Codable</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token builtin">OrderedState</span><span class="token operator">&lt;</span><span class="token builtin">Item</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">!</span> <span class="token function">JSONEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token comment">// throws!</span>

  <span class="token comment">// ...</span>

  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">String</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> json<span class="token punctuation">,</span> encoding<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span><span class="token operator">!</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span> <span class="token comment">// never reached</span>
</code></pre><p>I then created a second project (this time an empty Swift project, with no SwiftUI or SwiftDux dependencies), and copied some source files of interest directly from the SwiftDux repository (namely <code>OrderedState</code>, <code>IdentifiableState</code>) and ran a similar test. Strangely, this version worked just fine.</p><pre class="language-swift"><code class="language-swift">  <span class="token keyword">import</span> <span class="token builtin">Foundation</span>

  <span class="token keyword">struct</span> <span class="token builtin">Item</span><span class="token punctuation">:</span> <span class="token builtin">IdentifiableState</span><span class="token punctuation">,</span> <span class="token builtin">Codable</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> state <span class="token operator">=</span> <span class="token function">OrderedState</span><span class="token punctuation">(</span><span class="token function">Item</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string">"1st"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">!</span> <span class="token function">JSONEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token comment">// no problems</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">String</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> json<span class="token punctuation">,</span> encoding<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span><span class="token operator">!</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span> <span class="token comment">// prints the JSON string as expected</span>
</code></pre><p>I decided to hold off on persistence, instead focusing on other parts of the app. I will later open an issue on the SwiftDux GitHub repository explaining the issue and including the reproduction cases.</p><h2 id="list-filtering">List Filtering</h2><p>The <a href="https://github.com/GeordieP/shopping-list/blob/master/src/hooks/useFilters.ts">Hook</a> for managing filters in the React version(s) of the app is very simple to use; we call the hook in our component, and it returns us an object containing functions to add or remove a filter function (<code>(T) => Boolean</code>) by name, as well as a function to apply the stored filters to a given collection (<code>applyFilters(initialCollection: T[]) => filteredCollection: T[]</code>). We call <code>applyFilters</code> on our collection of list items, and render the filtered list as normal. The add/remove filter functions are passed to other components that are concerned with managing filter state, such as a search bar component that will update a ‚Äúsearch‚Äù filter function whenever the user types a character, causing the filtered list to re-render and represent the new desired state. Our list rendering is therefore only concerned with rendering the list, and never with managing what filters are present.</p><p>I was initially afraid a lot of this API would get more verbose in SwiftUI, or at the very least, more tightly coupled to the Views rendering the content. After a bit of playing around, the solution is more than satisfactory.</p><p>The first piece is a class called <code>FilterManager</code>, which conforms to the Swift <code>ObservableObject</code> protocol. In SwiftUI, instances of this type can be bound to a View struct using the <code>@ObservedObject</code> property wrapper. SwiftUI will automatically re-render the View when a published var inside the observed field changes (these published vars are fields inside the <code>ObservedObject</code> wrapped with <code>@Published</code>).</p><p>The <code>FilterManager</code> class behaves similarly to the <code>useFilters</code> Hook from the React version; it maintains an internal collection of filter functions (closures), and exposes methods to add/remove closures by name, along with a method to apply the filters to a given collection.</p><p><strong>FilterManager.swift</strong></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">FilterManager</span><span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">:</span> <span class="token builtin">ObservableObject</span> <span class="token punctuation">{</span>
  <span class="token keyword">typealias</span> <span class="token builtin">Filter</span> <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Bool</span>
  @<span class="token builtin">Published</span> <span class="token keyword">var</span> filters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">:</span> <span class="token builtin">Filter</span><span class="token punctuation">]</span>

  <span class="token keyword">init</span><span class="token punctuation">(</span>defaultFilters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">:</span> <span class="token builtin">Filter</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">:</span> <span class="token builtin">Filter</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    filters <span class="token operator">=</span> defaultFilters
  <span class="token punctuation">}</span>

  <span class="token comment">/// Update a filter by name, or insert it if it does not exist.</span>
  <span class="token keyword">func</span> <span class="token function">upsert</span><span class="token punctuation">(</span><span class="token number">_</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token number">_</span> filterFn<span class="token punctuation">:</span> @escaping <span class="token builtin">Filter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    filters<span class="token punctuation">.</span><span class="token function">updateValue</span><span class="token punctuation">(</span>filterFn<span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Remove a filter by name.</span>
  <span class="token keyword">func</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">_</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    filters<span class="token punctuation">.</span><span class="token function">removeValue</span><span class="token punctuation">(</span>forKey<span class="token punctuation">:</span> name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Apply the current list of filters to a collection of T.</span>
  <span class="token keyword">func</span> <span class="token function">apply</span><span class="token punctuation">(</span>to collection<span class="token punctuation">:</span> <span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">[</span>T<span class="token punctuation">]</span> <span class="token punctuation">{</span>
    filters<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>collection<span class="token punctuation">,</span> <span class="token punctuation">{</span> $<span class="token number">0</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>$<span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>Usage</strong> (in SwiftUI View ProductsPage.swift)</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ProductsPage</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span>
  @<span class="token builtin">ObservedObject</span> <span class="token keyword">private</span> <span class="token keyword">var</span> filters <span class="token operator">=</span> <span class="token builtin">FilterManager</span><span class="token operator">&lt;</span><span class="token builtin">Product</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// ...</span>

  <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span>
    <span class="token builtin">List</span> <span class="token punctuation">{</span>
      <span class="token function">ForEach</span><span class="token punctuation">(</span>filters<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> props<span class="token punctuation">.</span>products<span class="token punctuation">.</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Another View containing a search field would be rendered alongside the List shown above, and would receive the <code>FilterManager</code> instance through its initializer, internally calling the upsert and remove methods as needed. Whenever the <code>ProductsPage</code> ‚Äúfilters‚Äù observed property updates, the view re-renders and we display the filtered collection.</p><p>A small issue with this approach was that it broke the previously-working removal of list items; the ForEach had a chained <code>.onDelete</code> method whose passed closure would receive the index (really an <code>IndexSet</code>) of an item to remove, and we would pass that index through a SwiftDux action to remove the item from the store. Unfortunately, when the list is filtered, the indices don‚Äôt line up; index 2 in the filtered list might actually be index 6 in the SwiftDux store, so when we delete at index 2, we delete something that may not even be visible to the user.</p><p>To work around this, I first switched the SwiftDux actions to perform their removal operations by ID rather than index. This presented a problem, as the aforementioned <code>onDelete</code> method will only pass the indices to be removed, and since we‚Äôre only ever creating the filtered collection inside the rendered view body, we have no access to it with which to map a given list index to an item ID (and it seems like there isn‚Äôt an obvious way to add the filtered list as its own property on the struct and have it still react to changes in the filters state). To solve this, the list rendering was extracted to its own View, which would receive the filtered list as well as a <code>deleteItem</code> closure through its initializer. An additional function inside this View would be used in the list ForEach, and would look up the item in the (already filtered!) collection, grab its ID, then call the <code>deleteItem</code> closure provided by the parent View.</p><p>After these changes, the list could be filtered and deleting items worked as intended.</p><h2 id="progress---week-1">Progress - Week 1</h2><ul><li>Tab navigation bar</li><li>Basic form to add a new product to the list</li><li>Buttons to add and remove a placeholder search filter (searching for any products containing the string "ir")</li><li>Slide to delete a product from the list</li></ul><div align="center"><video alt="Week 1 Progress Video" controls><source src="https://giant.gfycat.com/SlimLameCardinal.mp4" type="video/mp4"></video></div></div></main></div></div><script>!function(f){function e(e){for(var t,r,n=e[0],o=e[1],a=e[2],c=0,u=[];c<n.length;c++)r=n[c],d[r]&&u.push(d[r][0]),d[r]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(f[t]=o[t]);for(p&&p(e);u.length;)u.shift()();return l.push.apply(l,a||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var r=l[t],n=!0,o=1;o<r.length;o++){var a=r[o];0!==d[a]&&(n=!1)}n&&(l.splice(t--,1),e=s(s.s=r[0]))}return e}var r={},u={17:0},d={17:0},l=[];function s(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return f[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(l){var e=[];u[l]?e.push(u[l]):0!==u[l]&&{2:1,6:1}[l]&&e.push(u[l]=new Promise(function(e,n){for(var t="static/css/"+({}[l]||l)+"."+{0:"31d6cfe0",2:"31d49b7e",3:"31d6cfe0",4:"31d6cfe0",5:"31d6cfe0",6:"1824b1f2",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0",11:"31d6cfe0",12:"31d6cfe0",13:"31d6cfe0",14:"31d6cfe0",15:"31d6cfe0"}[l]+".chunk.css",o=s.p+t,r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var c=(f=r[a]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(c===t||c===o))return e()}var u=document.getElementsByTagName("style");for(a=0;a<u.length;a++){var f;if((c=(f=u[a]).getAttribute("data-href"))===t||c===o)return e()}var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onload=e,i.onerror=function(e){var t=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+l+" failed.\n("+t+")");r.request=t,n(r)},i.href=o,document.getElementsByTagName("head")[0].appendChild(i)}).then(function(){u[l]=0}));var r=d[l];if(0!==r)if(r)e.push(r[2]);else{var t=new Promise(function(e,t){r=d[l]=[e,t]});e.push(r[2]=t);var n,o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=s.p+"static/js/"+({}[l]||l)+"."+{0:"0206793b",2:"62eb3000",3:"c7af5567",4:"8dd27aae",5:"4600a1b2",6:"990c5257",7:"30ea74c0",8:"7512e075",9:"ebbe1e98",10:"abf27806",11:"0908009d",12:"3054338b",13:"d124050a",14:"25c1c560",15:"bec5874a"}[l]+".chunk.js",n=function(e){a.onerror=a.onload=null,clearTimeout(c);var t=d[l];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,o=new Error("Loading chunk "+l+" failed.\n("+r+": "+n+")");o.type=r,o.request=n,t[1](o)}d[l]=void 0}};var c=setTimeout(function(){n({type:"timeout",target:a})},12e4);a.onerror=a.onload=n,o.appendChild(a)}return Promise.all(e)},s.m=f,s.c=r,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],n=t.push.bind(t);t.push=e,t=t.slice();for(var o=0;o<t.length;o++)e(t[o]);var p=n;i()}([])</script><script src="/static/js/16.685cfdbc.chunk.js"></script><script src="/static/js/main.c79bbdec.chunk.js"></script></body></html>